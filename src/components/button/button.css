/* --- Base Button --- */
.btn {
  --btn-color: var(--primary);
  --btn-text: white;
  @apply inline-flex items-center justify-center gap-2 px-4 py-2 text-sm min-h-10 font-semibold transition-all duration-300 active:scale-95 focus:outline-none cursor-pointer leading-none disabled:opacity-50 disabled:cursor-not-allowed bg-primary text-white hover:brightness-110;
  
  &.btn-disabled {
    @apply opacity-50 cursor-not-allowed pointer-events-none;
  }
  border: 1px solid transparent;
  border-radius: var(--radius-lg);

  @variant dark {
    --btn-text: theme('colors.gray.900');
    @apply text-gray-900;
  }
}

.btn-block {
  @apply w-full flex;
}

.btn-raised {
  @apply shadow-lg;
}

.btn-square {
  @apply aspect-square px-0!;
}

/* --- Severities --- */
.btn-primary {
  /* Already handled by .btn defaults */
}

.btn-secondary {
  --btn-color: var(--secondary);
  --btn-text: var(--secondary-foreground);
  @apply bg-secondary-soft text-secondary-foreground hover:bg-border;

  @variant dark {
    --btn-text: var(--foreground);
    @apply text-foreground;
  }
}

.btn-success {
  --btn-color: var(--success);
  --btn-text: white;
  @apply bg-success text-white hover:brightness-110;

  @variant dark {
    --btn-text: theme('colors.gray.900');
    @apply text-gray-900;
  }
}

.btn-info {
  --btn-color: var(--info);
  --btn-text: white;
  @apply bg-info text-white hover:brightness-110;

  @variant dark {
    --btn-text: theme('colors.gray.900');
    @apply text-gray-900;
  }
}

.btn-warn {
  --btn-color: var(--warn);
  --btn-text: white;
  @apply bg-warn text-white hover:brightness-110;

  @variant dark {
    --btn-text: theme('colors.gray.900');
    @apply text-gray-900;
  }
}

.btn-help {
  --btn-color: var(--help);
  --btn-text: white;
  @apply bg-help text-white hover:brightness-110;

  @variant dark {
    --btn-text: theme('colors.gray.900');
    @apply text-gray-900;
  }
}

.btn-danger {
  --btn-color: var(--danger);
  --btn-text: white;
  @apply bg-danger text-white hover:brightness-110;

  @variant dark {
    --btn-text: theme('colors.gray.900');
    @apply text-gray-900;
  }
}

.btn-contrast {
  --btn-color: var(--contrast);
  --btn-text: var(--contrast-foreground);
  @apply bg-contrast text-contrast-foreground;

  @variant dark {
    --btn-text: theme('colors.gray.900');
    @apply text-gray-900;
  }
}

/* --- Sizes --- */
.btn-xs {
  @apply px-2 py-1 text-xs min-h-7 gap-1;
}

.btn-sm {
  @apply px-3 py-1.5 text-sm min-h-8 gap-1.5;
}

.btn-md {
  @apply px-4 py-2 text-sm min-h-10 gap-2;
}

.btn-lg {
  @apply px-6 py-3 text-base min-h-12 gap-2.5;
}

.btn-xl {
  @apply px-8 py-4 text-lg min-h-14 gap-3;
}

.btn-2xl {
  @apply px-10 py-5 text-xl min-h-16 gap-4;
}

/* Icon-Only Styles */
.btn-icon-only {
  @apply aspect-square p-0! px-0! justify-center items-center h-auto min-w-0! w-auto;
}

.btn-icon-only.btn-xs { @apply w-7 h-7 min-h-0; }
.btn-icon-only.btn-sm { @apply w-8 h-8 min-h-0; }
.btn-icon-only.btn-md { @apply w-10 h-10 min-h-0; }
.btn-icon-only.btn-lg { @apply w-12 h-12 min-h-0; }
.btn-icon-only.btn-xl { @apply w-14 h-14 min-h-0; }
.btn-icon-only.btn-2xl { @apply w-16 h-16 min-h-0; }

/* --- Rounding --- */
.round-none {
  border-radius: 0;
}

.round-xs {
  border-radius: var(--radius-sm);
}

.round-sm {
  border-radius: var(--radius-md);
}

.round-md {
  border-radius: var(--radius-lg);
}

.round-lg {
  border-radius: var(--radius-xl);
}

.round-xl {
  border-radius: var(--radius-2xl);
}

.round-2xl {
  border-radius: 2rem;
}

.round-full {
  border-radius: var(--radius-full);
}

.btn-soft {
  /* Implicitly handled by .btn defaults */
}

/* --- Variants --- */
.btn-outlined {
  @apply bg-transparent! border-[var(--btn-color)]! text-[var(--btn-color)]!;
}

.btn-outlined:hover {
  @apply bg-[var(--btn-color)]! text-[var(--btn-text)]!;
}

.btn-subtle {
  background-color: color-mix(in srgb, var(--btn-color), transparent 90%) !important;
  color: var(--btn-color) !important;
  border-color: transparent !important;
}

.btn-subtle:hover {
  background-color: color-mix(in srgb, var(--btn-color), transparent 80%) !important;
}

.btn-ghost {
  background-color: transparent !important;
  border-color: transparent !important;
  color: var(--foreground) !important;
}

.btn-ghost.btn-secondary {
  color: var(--muted-foreground) !important;
}

.btn-ghost.btn-primary {
  color: var(--primary) !important;
}

.btn-ghost.btn-danger {
  color: var(--danger) !important;
}

.btn-ghost.btn-success {
  color: var(--success) !important;
}

.btn-ghost.btn-info {
  color: var(--info) !important;
}

.btn-ghost.btn-warn {
  color: var(--warn) !important;
}

.btn-ghost.btn-help {
  color: var(--help) !important;
}

.btn-ghost.btn-contrast {
  color: var(--contrast) !important;
}

.btn-ghost:hover {
  background-color: color-mix(in srgb, var(--btn-color), transparent 90%) !important;
}

.btn-link {
  @apply bg-transparent! border-transparent! hover:underline! px-0! py-0! h-auto! min-h-0! shadow-none! ring-0! active:scale-100!;
  color: var(--btn-color) !important;
}

/* --- Rings --- */
.btn-ring-1 { --btn-ring-width: 1px; }
.btn-ring-2 { --btn-ring-width: 2px; }
.btn-ring-4 { --btn-ring-width: 4px; }

.btn-ring-primary { --btn-ring-color: var(--primary); }
.btn-ring-secondary { --btn-ring-color: var(--secondary); }
.btn-ring-success { --btn-ring-color: var(--success); }
.btn-ring-info { --btn-ring-color: var(--info); }
.btn-ring-warn { --btn-ring-color: var(--warn); }
.btn-ring-help { --btn-ring-color: var(--help); }
.btn-ring-danger { --btn-ring-color: var(--danger); }
.btn-ring-contrast { --btn-ring-color: var(--contrast); }

[class*="btn-ring-"] {
  box-shadow: 0 0 0 var(--btn-ring-width) var(--btn-ring-color) !important;
}

/* Ensure rings are still visible when mixed with link/ghost variants if needed */
.btn-link[class*="btn-ring-"], .btn-ghost[class*="btn-ring-"] {
  @apply ring-0!; /* Reset tailwind ring if any */
}

/* --- Vertical Layout Adjustments --- */
.btn-vertical {
  @apply h-auto py-3 px-4 min-w-[3.5rem] gap-1.5;
}

.btn-vertical.btn-xs { @apply py-1.5 px-2 min-w-[2.5rem] gap-0.5; }
.btn-vertical.btn-sm { @apply py-2 px-3 min-w-[3rem] gap-1; }
.btn-vertical.btn-lg { @apply py-4 px-5 min-w-[4rem] gap-2; }
.btn-vertical.btn-xl { @apply py-5 px-6 min-w-[5rem] gap-2.5; }
.btn-vertical.btn-2xl { @apply py-6 px-8 min-w-[6rem] gap-3; }
